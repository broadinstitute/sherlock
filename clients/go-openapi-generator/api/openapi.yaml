openapi: 3.0.1
info:
  contact:
    email: dsp-devops@broadinstitute.org
    name: DSP DevOps
  description: The Data Science Platform's source-of-truth service
  license:
    name: BSD-3-Clause
    url: https://github.com/broadinstitute/sherlock/blob/main/LICENSE.txt
  title: Sherlock
  version: development
servers:
- url: /
paths:
  /api/v2/app-versions:
    get:
      description: "List existing AppVersion entries, ordered by most recently updated."
      parameters:
      - description: Required when creating
        in: query
        name: appVersion
        schema:
          type: string
      - description: Required when creating
        in: query
        name: chart
        schema:
          type: string
      - in: query
        name: createdAt
        schema:
          type: string
      - in: query
        name: gitBranch
        schema:
          type: string
      - in: query
        name: gitCommit
        schema:
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - in: query
        name: updatedAt
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.AppVersion'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List AppVersion entries
      tags:
      - AppVersions
    post:
      description: Create a new AppVersion entry. Note that fields are immutable after
        creation.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableAppVersion'
        description: The AppVersion to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.AppVersion'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new AppVersion entry
      tags:
      - AppVersions
      x-codegen-request-body-name: app-version
  /api/v2/app-versions/{selector}:
    get:
      description: Get an existing AppVersion entry via one its "selector"--its numeric
        ID.
      parameters:
      - description: "The AppVersion to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.AppVersion'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a AppVersion entry
      tags:
      - AppVersions
  /api/v2/chart-deploy-records:
    get:
      description: "List existing ChartDeployRecord entries, ordered by most recently\
        \ updated."
      parameters:
      - description: Required when creating
        in: query
        name: chartRelease
        schema:
          type: string
      - in: query
        name: createdAt
        schema:
          type: string
      - description: "When creating, will default to the value currently held by the\
          \ chart release"
        in: query
        name: exactAppVersion
        schema:
          type: string
      - description: "When creating, will default to the value currently held by the\
          \ chart release"
        in: query
        name: exactChartVersion
        schema:
          type: string
      - description: "When creating, will default to the value currently held by the\
          \ chart release"
        in: query
        name: helmfileRef
        schema:
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - in: query
        name: updatedAt
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.ChartDeployRecord'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List ChartDeployRecord entries
      tags:
      - ChartDeployRecords
    post:
      description: Create a new ChartDeployRecord entry. Note that fields are immutable
        after creation.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableChartDeployRecord'
        description: The ChartDeployRecord to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartDeployRecord'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new ChartDeployRecord entry
      tags:
      - ChartDeployRecords
      x-codegen-request-body-name: chart-deploy-record
  /api/v2/chart-deploy-records/{selector}:
    get:
      description: Get an existing ChartDeployRecord entry via one its "selector"--its
        numeric ID.
      parameters:
      - description: "The ChartDeployRecord to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartDeployRecord'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a ChartDeployRecord entry
      tags:
      - ChartDeployRecords
  /api/v2/chart-releases:
    get:
      description: "List existing ChartRelease entries, ordered by most recently updated."
      parameters:
      - description: Required when creating
        in: query
        name: chart
        schema:
          type: string
      - description: "When creating, will default the environment's default cluster,\
          \ if provided. Either this or environment must be provided."
        in: query
        name: cluster
        schema:
          type: string
      - in: query
        name: createdAt
        schema:
          type: string
      - in: query
        name: currentAppVersionExact
        schema:
          type: string
      - in: query
        name: currentChartVersionExact
        schema:
          type: string
      - description: Calculated field
        in: query
        name: destinationType
        schema:
          type: string
      - description: Either this or cluster must be provided.
        in: query
        name: environment
        schema:
          type: string
      - in: query
        name: helmfileRef
        schema:
          default: HEAD
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - description: "When creating, will be calculated if left empty"
        in: query
        name: name
        schema:
          type: string
      - description: "When creating, will default to the environment's default namespace,\
          \ if provided"
        in: query
        name: namespace
        schema:
          type: string
      - description: "When creating, will default to the app's main branch if it has\
          \ one recorded"
        in: query
        name: targetAppVersionBranch
        schema:
          type: string
      - in: query
        name: targetAppVersionCommit
        schema:
          type: string
      - in: query
        name: targetAppVersionExact
        schema:
          type: string
      - description: "When creating, will default to referencing any provided target\
          \ app version field (exact, then commit, then branch)"
        in: query
        name: targetAppVersionUse
        schema:
          enum:
          - branch
          - commit
          - exact
          type: string
      - in: query
        name: targetChartVersionExact
        schema:
          type: string
      - description: "When creating, will default to latest unless an exact target\
          \ chart version is provided"
        in: query
        name: targetChartVersionUse
        schema:
          enum:
          - latest
          - exact
          type: string
      - in: query
        name: thelmaMode
        schema:
          type: string
      - in: query
        name: updatedAt
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.ChartRelease'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List ChartRelease entries
      tags:
      - ChartReleases
    post:
      description: Create a new ChartRelease entry. Note that some fields are immutable
        after creation; /edit lists mutable fields.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableChartRelease'
        description: The ChartRelease to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartRelease'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new ChartRelease entry
      tags:
      - ChartReleases
      x-codegen-request-body-name: chart-release
  /api/v2/chart-releases/{selector}:
    delete:
      description: "Delete an existing ChartRelease entry via one of its \"selectors\"\
        : name, numeric ID, environment/chart, or cluster/namespace/chart."
      parameters:
      - description: "The ChartRelease to delete's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartRelease'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Delete a ChartRelease entry
      tags:
      - ChartReleases
    get:
      description: "Get an existing ChartRelease entry via one of its \"selectors\"\
        : name, numeric ID, environment/chart, or cluster/namespace/chart."
      parameters:
      - description: "The ChartRelease to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartRelease'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a ChartRelease entry
      tags:
      - ChartReleases
    patch:
      description: "Edit an existing ChartRelease entry via one of its \"selectors\"\
        : name, numeric ID, environment/chart, or cluster/namespace/chart. Note that\
        \ only mutable fields are available here, immutable fields can only be set\
        \ using /create."
      parameters:
      - description: "The ChartRelease to edit's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.EditableChartRelease'
        description: The edits to make to the ChartRelease
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartRelease'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Edit a ChartRelease entry
      tags:
      - ChartReleases
      x-codegen-request-body-name: chart-release
  /api/v2/chart-versions:
    get:
      description: "List existing ChartVersion entries, ordered by most recently updated."
      parameters:
      - description: Required when creating
        in: query
        name: chart
        schema:
          type: string
      - description: Required when creating
        in: query
        name: chartVersion
        schema:
          type: string
      - in: query
        name: createdAt
        schema:
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - in: query
        name: updatedAt
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.ChartVersion'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List ChartVersion entries
      tags:
      - ChartVersions
    post:
      description: Create a new ChartVersion entry. Note that fields are immutable
        after creation.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableChartVersion'
        description: The ChartVersion to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartVersion'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new ChartVersion entry
      tags:
      - ChartVersions
      x-codegen-request-body-name: chart-version
  /api/v2/chart-versions/{selector}:
    get:
      description: Get an existing ChartVersion entry via one its "selector"--its
        numeric ID.
      parameters:
      - description: "The ChartVersion to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.ChartVersion'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a ChartVersion entry
      tags:
      - ChartVersions
  /api/v2/charts:
    get:
      description: "List existing Chart entries, ordered by most recently updated."
      parameters:
      - in: query
        name: appImageGitMainBranch
        schema:
          type: string
      - in: query
        name: appImageGitRepo
        schema:
          type: string
      - in: query
        name: chartRepo
        schema:
          default: terra-helm
          type: string
      - in: query
        name: createdAt
        schema:
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - description: Required when creating
        in: query
        name: name
        schema:
          type: string
      - in: query
        name: updatedAt
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.Chart'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List Chart entries
      tags:
      - Charts
    post:
      description: Create a new Chart entry. Note that some fields are immutable after
        creation; /edit lists mutable fields.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableChart'
        description: The Chart to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Chart'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new Chart entry
      tags:
      - Charts
      x-codegen-request-body-name: chart
  /api/v2/charts/{selector}:
    delete:
      description: "Delete an existing Chart entry via one of its \"selectors\": name\
        \ or numeric ID."
      parameters:
      - description: "The Chart to delete's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Chart'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Delete a Chart entry
      tags:
      - Charts
    get:
      description: "Get an existing Chart entry via one of its \"selectors\": name\
        \ or numeric ID."
      parameters:
      - description: "The Chart to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Chart'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a Chart entry
      tags:
      - Charts
    patch:
      description: "Edit an existing Chart entry via one of its \"selectors\": name\
        \ or numeric ID. Note that only mutable fields are available here, immutable\
        \ fields can only be set using /create."
      parameters:
      - description: "The Chart to edit's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.EditableChart'
        description: The edits to make to the Chart
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Chart'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Edit a Chart entry
      tags:
      - Charts
      x-codegen-request-body-name: chart
  /api/v2/clusters:
    get:
      description: "List existing Cluster entries, ordered by most recently updated."
      parameters:
      - description: Required when creating
        in: query
        name: address
        schema:
          type: string
      - description: Required when creating if providers is 'azure'
        in: query
        name: azureSubscription
        schema:
          type: string
      - description: Required when creating
        in: query
        name: base
        schema:
          type: string
      - in: query
        name: createdAt
        schema:
          type: string
      - description: Required when creating if provider is 'google'
        in: query
        name: googleProject
        schema:
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - description: Required when creating
        in: query
        name: name
        required: true
        schema:
          type: string
      - in: query
        name: provider
        schema:
          default: google
          enum:
          - google
          - azure
          type: string
      - in: query
        name: requiresSuitability
        schema:
          default: false
          type: boolean
      - in: query
        name: updatedAt
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.Cluster'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List Cluster entries
      tags:
      - Clusters
    post:
      description: Create a new Cluster entry. Note that some fields are immutable
        after creation; /edit lists mutable fields.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableCluster'
        description: The Cluster to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Cluster'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new Cluster entry
      tags:
      - Clusters
      x-codegen-request-body-name: cluster
  /api/v2/clusters/{selector}:
    delete:
      description: "Delete an existing Cluster entry via one of its \"selectors\"\
        : name or numeric ID."
      parameters:
      - description: "The Cluster to delete's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Cluster'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Delete a Cluster entry
      tags:
      - Clusters
    get:
      description: "Get an existing Cluster entry via one of its \"selectors\": name\
        \ or numeric ID."
      parameters:
      - description: "The Cluster to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Cluster'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a Cluster entry
      tags:
      - Clusters
    patch:
      description: "Edit an existing Cluster entry via one of its \"selectors\": name\
        \ or numeric ID. Note that only mutable fields are available here, immutable\
        \ fields can only be set using /create."
      parameters:
      - description: "The Cluster to edit's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.EditableCluster'
        description: The edits to make to the Cluster
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Cluster'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Edit a Cluster entry
      tags:
      - Clusters
      x-codegen-request-body-name: cluster
  /api/v2/environments:
    get:
      description: "List existing Environment entries, ordered by most recently updated."
      parameters:
      - description: Required when creating
        in: query
        name: base
        schema:
          type: string
      - description: "Upon creation of a dynamic environment, if this is true the\
          \ template's chart releases will be copied to the new environment"
        in: query
        name: chartReleasesFromTemplate
        schema:
          default: true
          type: boolean
      - in: query
        name: createdAt
        schema:
          type: string
      - in: query
        name: defaultCluster
        schema:
          type: string
      - in: query
        name: defaultNamespace
        schema:
          type: string
      - in: query
        name: id
        schema:
          type: integer
      - in: query
        name: lifecycle
        schema:
          default: dynamic
          type: string
      - description: "When creating, will be calculated if dynamic, required otherwise"
        in: query
        name: name
        schema:
          type: string
      - description: "When creating, will be set to your email"
        in: query
        name: owner
        schema:
          type: string
      - in: query
        name: requiresSuitability
        schema:
          default: false
          type: boolean
      - description: Required for dynamic environments
        in: query
        name: templateEnvironment
        schema:
          type: string
      - in: query
        name: updatedAt
        schema:
          type: string
      - in: query
        name: valuesName
        schema:
          type: string
      - description: An optional limit to the number of entries returned
        in: query
        name: limit
        schema:
          type: integer
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/v2controllers.Environment'
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List Environment entries
      tags:
      - Environments
    post:
      description: |-
        Create a new Environment entry. Note that some fields are immutable after creation; /edit lists mutable fields.
        Creating a dynamic environment based on a template will also copy ChartReleases from the template.
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.CreatableEnvironment'
        description: The Environment to create
        required: true
      responses:
        "201":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Environment'
          description: Created
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Create a new Environment entry
      tags:
      - Environments
      x-codegen-request-body-name: environment
  /api/v2/environments/{selector}:
    delete:
      description: "Delete an existing Environment entry via one of its \"selectors\"\
        : name or numeric ID."
      parameters:
      - description: "The Environment to delete's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Environment'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Delete a Environment entry
      tags:
      - Environments
    get:
      description: "Get an existing Environment entry via one of its \"selectors\"\
        : name or numeric ID."
      parameters:
      - description: "The Environment to get's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Environment'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get a Environment entry
      tags:
      - Environments
    patch:
      description: "Edit an existing Environment entry via one of its \"selectors\"\
        : name or numeric ID. Note that only mutable fields are available here, immutable\
        \ fields can only be set using /create."
      parameters:
      - description: "The Environment to edit's selector: name or numeric ID"
        in: path
        name: selector
        required: true
        schema:
          type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/v2controllers.EditableEnvironment'
        description: The edits to make to the Environment
        required: true
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/v2controllers.Environment'
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Edit a Environment entry
      tags:
      - Environments
      x-codegen-request-body-name: environment
  /api/v2/selectors/app-versions/{selector}:
    get:
      description: Validate a given AppVersion selector and provide any other selectors
        that would match the same AppVersion.
      parameters:
      - description: The selector of the AppVersion to list other selectors for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List AppVersion selectors
      tags:
      - AppVersions
  /api/v2/selectors/chart-deploy-records/{selector}:
    get:
      description: Validate a given ChartDeployRecord selector and provide any other
        selectors that would match the same ChartDeployRecord.
      parameters:
      - description: The selector of the ChartDeployRecord to list other selectors
          for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List ChartDeployRecord selectors
      tags:
      - ChartDeployRecords
  /api/v2/selectors/chart-releases/{selector}:
    get:
      description: Validate a given ChartRelease selector and provide any other selectors
        that would match the same ChartRelease.
      parameters:
      - description: The selector of the ChartRelease to list other selectors for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List ChartRelease selectors
      tags:
      - ChartReleases
  /api/v2/selectors/chart-versions/{selector}:
    get:
      description: Validate a given ChartVersion selector and provide any other selectors
        that would match the same ChartVersion.
      parameters:
      - description: The selector of the ChartVersion to list other selectors for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List ChartVersion selectors
      tags:
      - ChartVersions
  /api/v2/selectors/charts/{selector}:
    get:
      description: Validate a given Chart selector and provide any other selectors
        that would match the same Chart.
      parameters:
      - description: The selector of the Chart to list other selectors for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List Chart selectors
      tags:
      - Charts
  /api/v2/selectors/clusters/{selector}:
    get:
      description: Validate a given Cluster selector and provide any other selectors
        that would match the same Cluster.
      parameters:
      - description: The selector of the Cluster to list other selectors for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List Cluster selectors
      tags:
      - Clusters
  /api/v2/selectors/environments/{selector}:
    get:
      description: Validate a given Environment selector and provide any other selectors
        that would match the same Environment.
      parameters:
      - description: The selector of the Environment to list other selectors for
        in: path
        name: selector
        required: true
        schema:
          type: string
      responses:
        "200":
          content:
            application/json:
              schema:
                items:
                  type: string
                type: array
          description: OK
        "400":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Bad Request
        "403":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Forbidden
        "404":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Not Found
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "409":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Conflict
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: List Environment selectors
      tags:
      - Environments
  /my-user:
    get:
      description: Get Sherlock's understanding of the calling user based on IAP and
        the Firecloud.org Google Workspace organization.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/misc.MyUserResponse'
          description: OK
        "407":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Proxy Authentication Required
        "500":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/errors.ErrorResponse'
          description: Internal Server Error
      summary: Get information about the calling user
      tags:
      - Misc
  /status:
    get:
      description: "Get Sherlock's current status. Right now, this endpoint always\
        \ returned OK (if the server is online).\nThis endpoint is acceptable to use\
        \ for a readiness check."
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/misc.StatusResponse'
          description: OK
      summary: Get Sherlock's current status
      tags:
      - Misc
  /version:
    get:
      description: Get the build version of this Sherlock instance.
      responses:
        "200":
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/misc.VersionResponse'
          description: OK
      summary: Get Sherlock's own current version
      tags:
      - Misc
components:
  schemas:
    auth.ExtraPermissions:
      example:
        suitable: true
      properties:
        suitable:
          type: boolean
      type: object
    auth.FirecloudAccount:
      example:
        archived: true
        enrolledIn2Fa: true
        suspensionReason: suspensionReason
        acceptedGoogleTerms: true
        groups:
          firecloud-project-owners: true
          fc-admins: true
        email: email
        suspended: true
      properties:
        acceptedGoogleTerms:
          type: boolean
        archived:
          type: boolean
        email:
          type: string
        enrolledIn2Fa:
          type: boolean
        groups:
          $ref: '#/components/schemas/auth.FirecloudGroupMembership'
        suspended:
          type: boolean
        suspensionReason:
          type: string
      type: object
    auth.FirecloudGroupMembership:
      example:
        firecloud-project-owners: true
        fc-admins: true
      properties:
        fc-admins:
          type: boolean
        firecloud-project-owners:
          type: boolean
      type: object
    auth.User:
      example:
        matchedExtraPermissions:
          suitable: true
        matchedFirecloudAccount:
          archived: true
          enrolledIn2Fa: true
          suspensionReason: suspensionReason
          acceptedGoogleTerms: true
          groups:
            firecloud-project-owners: true
            fc-admins: true
          email: email
          suspended: true
        authenticatedEmail: authenticatedEmail
      properties:
        authenticatedEmail:
          type: string
        matchedExtraPermissions:
          $ref: '#/components/schemas/auth.ExtraPermissions'
        matchedFirecloudAccount:
          $ref: '#/components/schemas/auth.FirecloudAccount'
      type: object
    errors.ErrorResponse:
      properties:
        message:
          type: string
        toBlame:
          type: string
        type:
          type: string
      type: object
    misc.MyUserResponse:
      example:
        suitability: suitability
        rawInfo:
          matchedExtraPermissions:
            suitable: true
          matchedFirecloudAccount:
            archived: true
            enrolledIn2Fa: true
            suspensionReason: suspensionReason
            acceptedGoogleTerms: true
            groups:
              firecloud-project-owners: true
              fc-admins: true
            email: email
            suspended: true
          authenticatedEmail: authenticatedEmail
        email: email
      properties:
        email:
          type: string
        rawInfo:
          $ref: '#/components/schemas/auth.User'
        suitability:
          type: string
      type: object
    misc.StatusResponse:
      example:
        ok: true
      properties:
        ok:
          type: boolean
      type: object
    misc.VersionResponse:
      example:
        buildInfo:
          key: buildInfo
        goVersion: goVersion
        version: version
      properties:
        buildInfo:
          additionalProperties:
            type: string
          type: object
        goVersion:
          type: string
        version:
          type: string
      type: object
    v2controllers.AppVersion:
      example:
        createdAt: createdAt
        appVersion: appVersion
        gitCommit: gitCommit
        chartInfo:
          appImageGitRepo: appImageGitRepo
          createdAt: createdAt
          name: name
          id: 0
          appImageGitMainBranch: appImageGitMainBranch
          chartRepo: terra-helm
          updatedAt: updatedAt
        id: 6
        chart: chart
        gitBranch: gitBranch
        updatedAt: updatedAt
      properties:
        appVersion:
          description: Required when creating
          type: string
        chart:
          description: Required when creating
          type: string
        chartInfo:
          $ref: '#/components/schemas/v2controllers.Chart'
        createdAt:
          type: string
        gitBranch:
          type: string
        gitCommit:
          type: string
        id:
          type: integer
        updatedAt:
          type: string
      type: object
    v2controllers.Chart:
      example:
        appImageGitRepo: appImageGitRepo
        createdAt: createdAt
        name: name
        id: 0
        appImageGitMainBranch: appImageGitMainBranch
        chartRepo: terra-helm
        updatedAt: updatedAt
      properties:
        appImageGitMainBranch:
          type: string
        appImageGitRepo:
          type: string
        chartRepo:
          default: terra-helm
          type: string
        createdAt:
          type: string
        id:
          type: integer
        name:
          description: Required when creating
          type: string
        updatedAt:
          type: string
      type: object
    v2controllers.ChartDeployRecord:
      example:
        createdAt: createdAt
        chartRelease: chartRelease
        helmfileRef: helmfileRef
        id: 5
        exactChartVersion: exactChartVersion
        chartReleaseInfo:
          cluster: cluster
          targetAppVersionBranch: targetAppVersionBranch
          targetChartVersionExact: targetChartVersionExact
          currentAppVersionExact: currentAppVersionExact
          environmentInfo:
            owner: owner
            defaultNamespace: defaultNamespace
            chartReleasesFromTemplate: true
            lifecycle: dynamic
            createdAt: createdAt
            defaultCluster: defaultCluster
            templateEnvironmentInfo: "{}"
            defaultClusterInfo:
              createdAt: createdAt
              googleProject: googleProject
              address: address
              azureSubscription: azureSubscription
              provider: google
              name: name
              requiresSuitability: false
              id: 0
              base: base
              updatedAt: updatedAt
            name: name
            templateEnvironment: templateEnvironment
            requiresSuitability: false
            id: 6
            valuesName: valuesName
            base: base
            updatedAt: updatedAt
          targetAppVersionCommit: targetAppVersionCommit
          targetChartVersionUse: latest
          createdAt: createdAt
          environment: environment
          helmfileRef: HEAD
          targetAppVersionExact: targetAppVersionExact
          currentChartVersionExact: currentChartVersionExact
          thelmaMode: thelmaMode
          chartInfo:
            appImageGitRepo: appImageGitRepo
            createdAt: createdAt
            name: name
            id: 0
            appImageGitMainBranch: appImageGitMainBranch
            chartRepo: terra-helm
            updatedAt: updatedAt
          clusterInfo:
            createdAt: createdAt
            googleProject: googleProject
            address: address
            azureSubscription: azureSubscription
            provider: google
            name: name
            requiresSuitability: false
            id: 0
            base: base
            updatedAt: updatedAt
          name: name
          namespace: namespace
          destinationType: destinationType
          targetAppVersionUse: branch
          id: 1
          chart: chart
          updatedAt: updatedAt
        exactAppVersion: exactAppVersion
        updatedAt: updatedAt
      properties:
        chartRelease:
          description: Required when creating
          type: string
        chartReleaseInfo:
          $ref: '#/components/schemas/v2controllers.ChartRelease'
        createdAt:
          type: string
        exactAppVersion:
          description: "When creating, will default to the value currently held by\
            \ the chart release"
          type: string
        exactChartVersion:
          description: "When creating, will default to the value currently held by\
            \ the chart release"
          type: string
        helmfileRef:
          description: "When creating, will default to the value currently held by\
            \ the chart release"
          type: string
        id:
          type: integer
        updatedAt:
          type: string
      type: object
    v2controllers.ChartRelease:
      example:
        cluster: cluster
        targetAppVersionBranch: targetAppVersionBranch
        targetChartVersionExact: targetChartVersionExact
        currentAppVersionExact: currentAppVersionExact
        environmentInfo:
          owner: owner
          defaultNamespace: defaultNamespace
          chartReleasesFromTemplate: true
          lifecycle: dynamic
          createdAt: createdAt
          defaultCluster: defaultCluster
          templateEnvironmentInfo: "{}"
          defaultClusterInfo:
            createdAt: createdAt
            googleProject: googleProject
            address: address
            azureSubscription: azureSubscription
            provider: google
            name: name
            requiresSuitability: false
            id: 0
            base: base
            updatedAt: updatedAt
          name: name
          templateEnvironment: templateEnvironment
          requiresSuitability: false
          id: 6
          valuesName: valuesName
          base: base
          updatedAt: updatedAt
        targetAppVersionCommit: targetAppVersionCommit
        targetChartVersionUse: latest
        createdAt: createdAt
        environment: environment
        helmfileRef: HEAD
        targetAppVersionExact: targetAppVersionExact
        currentChartVersionExact: currentChartVersionExact
        thelmaMode: thelmaMode
        chartInfo:
          appImageGitRepo: appImageGitRepo
          createdAt: createdAt
          name: name
          id: 0
          appImageGitMainBranch: appImageGitMainBranch
          chartRepo: terra-helm
          updatedAt: updatedAt
        clusterInfo:
          createdAt: createdAt
          googleProject: googleProject
          address: address
          azureSubscription: azureSubscription
          provider: google
          name: name
          requiresSuitability: false
          id: 0
          base: base
          updatedAt: updatedAt
        name: name
        namespace: namespace
        destinationType: destinationType
        targetAppVersionUse: branch
        id: 1
        chart: chart
        updatedAt: updatedAt
      properties:
        chart:
          description: Required when creating
          type: string
        chartInfo:
          $ref: '#/components/schemas/v2controllers.Chart'
        cluster:
          description: "When creating, will default the environment's default cluster,\
            \ if provided. Either this or environment must be provided."
          type: string
        clusterInfo:
          $ref: '#/components/schemas/v2controllers.Cluster'
        createdAt:
          type: string
        currentAppVersionExact:
          type: string
        currentChartVersionExact:
          type: string
        destinationType:
          description: Calculated field
          type: string
        environment:
          description: Either this or cluster must be provided.
          type: string
        environmentInfo:
          $ref: '#/components/schemas/v2controllers.Environment'
        helmfileRef:
          default: HEAD
          type: string
        id:
          type: integer
        name:
          description: "When creating, will be calculated if left empty"
          type: string
        namespace:
          description: "When creating, will default to the environment's default namespace,\
            \ if provided"
          type: string
        targetAppVersionBranch:
          description: "When creating, will default to the app's main branch if it\
            \ has one recorded"
          type: string
        targetAppVersionCommit:
          type: string
        targetAppVersionExact:
          type: string
        targetAppVersionUse:
          description: "When creating, will default to referencing any provided target\
            \ app version field (exact, then commit, then branch)"
          enum:
          - branch
          - commit
          - exact
          type: string
        targetChartVersionExact:
          type: string
        targetChartVersionUse:
          description: "When creating, will default to latest unless an exact target\
            \ chart version is provided"
          enum:
          - latest
          - exact
          type: string
        thelmaMode:
          type: string
        updatedAt:
          type: string
      type: object
    v2controllers.ChartVersion:
      example:
        createdAt: createdAt
        chartVersion: chartVersion
        chartInfo:
          appImageGitRepo: appImageGitRepo
          createdAt: createdAt
          name: name
          id: 0
          appImageGitMainBranch: appImageGitMainBranch
          chartRepo: terra-helm
          updatedAt: updatedAt
        id: 0
        chart: chart
        updatedAt: updatedAt
      properties:
        chart:
          description: Required when creating
          type: string
        chartInfo:
          $ref: '#/components/schemas/v2controllers.Chart'
        chartVersion:
          description: Required when creating
          type: string
        createdAt:
          type: string
        id:
          type: integer
        updatedAt:
          type: string
      type: object
    v2controllers.Cluster:
      description: The full set of Cluster fields that can be read or used for filtering
        queries
      example:
        createdAt: createdAt
        googleProject: googleProject
        address: address
        azureSubscription: azureSubscription
        provider: google
        name: name
        requiresSuitability: false
        id: 0
        base: base
        updatedAt: updatedAt
      properties:
        address:
          description: Required when creating
          type: string
        azureSubscription:
          description: Required when creating if providers is 'azure'
          type: string
        base:
          description: Required when creating
          type: string
        createdAt:
          type: string
        googleProject:
          description: Required when creating if provider is 'google'
          type: string
        id:
          type: integer
        name:
          description: Required when creating
          type: string
        provider:
          default: google
          enum:
          - google
          - azure
          type: string
        requiresSuitability:
          default: false
          type: boolean
        updatedAt:
          type: string
      required:
      - name
      type: object
    v2controllers.CreatableAppVersion:
      properties:
        appVersion:
          description: Required when creating
          type: string
        chart:
          description: Required when creating
          type: string
        gitBranch:
          type: string
        gitCommit:
          type: string
      type: object
    v2controllers.CreatableChart:
      properties:
        appImageGitMainBranch:
          type: string
        appImageGitRepo:
          type: string
        chartRepo:
          default: terra-helm
          type: string
        name:
          description: Required when creating
          type: string
      type: object
    v2controllers.CreatableChartDeployRecord:
      properties:
        chartRelease:
          description: Required when creating
          type: string
        exactAppVersion:
          description: "When creating, will default to the value currently held by\
            \ the chart release"
          type: string
        exactChartVersion:
          description: "When creating, will default to the value currently held by\
            \ the chart release"
          type: string
        helmfileRef:
          description: "When creating, will default to the value currently held by\
            \ the chart release"
          type: string
      type: object
    v2controllers.CreatableChartRelease:
      properties:
        chart:
          description: Required when creating
          type: string
        cluster:
          description: "When creating, will default the environment's default cluster,\
            \ if provided. Either this or environment must be provided."
          type: string
        currentAppVersionExact:
          type: string
        currentChartVersionExact:
          type: string
        environment:
          description: Either this or cluster must be provided.
          type: string
        helmfileRef:
          default: HEAD
          type: string
        name:
          description: "When creating, will be calculated if left empty"
          type: string
        namespace:
          description: "When creating, will default to the environment's default namespace,\
            \ if provided"
          type: string
        targetAppVersionBranch:
          description: "When creating, will default to the app's main branch if it\
            \ has one recorded"
          type: string
        targetAppVersionCommit:
          type: string
        targetAppVersionExact:
          type: string
        targetAppVersionUse:
          description: "When creating, will default to referencing any provided target\
            \ app version field (exact, then commit, then branch)"
          enum:
          - branch
          - commit
          - exact
          type: string
        targetChartVersionExact:
          type: string
        targetChartVersionUse:
          description: "When creating, will default to latest unless an exact target\
            \ chart version is provided"
          enum:
          - latest
          - exact
          type: string
        thelmaMode:
          type: string
      type: object
    v2controllers.CreatableChartVersion:
      properties:
        chart:
          description: Required when creating
          type: string
        chartVersion:
          description: Required when creating
          type: string
      type: object
    v2controllers.CreatableCluster:
      description: The subset of Cluster fields that can be set upon creation
      properties:
        address:
          description: Required when creating
          type: string
        azureSubscription:
          description: Required when creating if providers is 'azure'
          type: string
        base:
          description: Required when creating
          type: string
        googleProject:
          description: Required when creating if provider is 'google'
          type: string
        name:
          description: Required when creating
          type: string
        provider:
          default: google
          enum:
          - google
          - azure
          type: string
        requiresSuitability:
          default: false
          type: boolean
      required:
      - name
      type: object
    v2controllers.CreatableEnvironment:
      properties:
        base:
          description: Required when creating
          type: string
        chartReleasesFromTemplate:
          default: true
          description: "Upon creation of a dynamic environment, if this is true the\
            \ template's chart releases will be copied to the new environment"
          type: boolean
        defaultCluster:
          type: string
        defaultNamespace:
          type: string
        lifecycle:
          default: dynamic
          type: string
        name:
          description: "When creating, will be calculated if dynamic, required otherwise"
          type: string
        owner:
          description: "When creating, will be set to your email"
          type: string
        requiresSuitability:
          default: false
          type: boolean
        templateEnvironment:
          description: Required for dynamic environments
          type: string
      type: object
    v2controllers.EditableChart:
      properties:
        appImageGitMainBranch:
          type: string
        appImageGitRepo:
          type: string
        chartRepo:
          default: terra-helm
          type: string
      type: object
    v2controllers.EditableChartRelease:
      properties:
        currentAppVersionExact:
          type: string
        currentChartVersionExact:
          type: string
        helmfileRef:
          default: HEAD
          type: string
        targetAppVersionBranch:
          description: "When creating, will default to the app's main branch if it\
            \ has one recorded"
          type: string
        targetAppVersionCommit:
          type: string
        targetAppVersionExact:
          type: string
        targetAppVersionUse:
          description: "When creating, will default to referencing any provided target\
            \ app version field (exact, then commit, then branch)"
          enum:
          - branch
          - commit
          - exact
          type: string
        targetChartVersionExact:
          type: string
        targetChartVersionUse:
          description: "When creating, will default to latest unless an exact target\
            \ chart version is provided"
          enum:
          - latest
          - exact
          type: string
        thelmaMode:
          type: string
      type: object
    v2controllers.EditableCluster:
      description: The subset of Cluster fields that can be edited after creation
      properties:
        address:
          description: Required when creating
          type: string
        base:
          description: Required when creating
          type: string
        requiresSuitability:
          default: false
          type: boolean
      type: object
    v2controllers.EditableEnvironment:
      properties:
        defaultCluster:
          type: string
        defaultNamespace:
          type: string
        owner:
          description: "When creating, will be set to your email"
          type: string
        requiresSuitability:
          default: false
          type: boolean
      type: object
    v2controllers.Environment:
      example:
        owner: owner
        defaultNamespace: defaultNamespace
        chartReleasesFromTemplate: true
        lifecycle: dynamic
        createdAt: createdAt
        defaultCluster: defaultCluster
        templateEnvironmentInfo: "{}"
        defaultClusterInfo:
          createdAt: createdAt
          googleProject: googleProject
          address: address
          azureSubscription: azureSubscription
          provider: google
          name: name
          requiresSuitability: false
          id: 0
          base: base
          updatedAt: updatedAt
        name: name
        templateEnvironment: templateEnvironment
        requiresSuitability: false
        id: 6
        valuesName: valuesName
        base: base
        updatedAt: updatedAt
      properties:
        base:
          description: Required when creating
          type: string
        chartReleasesFromTemplate:
          default: true
          description: "Upon creation of a dynamic environment, if this is true the\
            \ template's chart releases will be copied to the new environment"
          type: boolean
        createdAt:
          type: string
        defaultCluster:
          type: string
        defaultClusterInfo:
          $ref: '#/components/schemas/v2controllers.Cluster'
        defaultNamespace:
          type: string
        id:
          type: integer
        lifecycle:
          default: dynamic
          type: string
        name:
          description: "When creating, will be calculated if dynamic, required otherwise"
          type: string
        owner:
          description: "When creating, will be set to your email"
          type: string
        requiresSuitability:
          default: false
          type: boolean
        templateEnvironment:
          description: Required for dynamic environments
          type: string
        templateEnvironmentInfo:
          description: Single-layer recursive; provides info of the template environment
            if this environment has one
          properties: {}
          type: object
        updatedAt:
          type: string
        valuesName:
          type: string
      type: object
x-original-swagger-version: "2.0"
