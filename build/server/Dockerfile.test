# This Docerfile is used soley for integration tests
# It facilitates running integration tests locally against a real postgres
# instance via docker-compose

ARG GO_VERSION='1.16'
ARG ALPINE_VERSION='3.14'

FROM golang:${GO_VERSION}-alpine${ALPINE_VERSION} as build
WORKDIR /build
ENV CGO_ENABLED=0
ENV GO111MODULE=on
ENV GOBIN=/bin
COPY . .
CMD go test -v -run Integration ./...
